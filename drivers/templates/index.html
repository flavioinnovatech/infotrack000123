{% extends "templates/base.html" %}
{%block title%}Infotrack - Lista de motoristas {% endblock %}
{% block head %}
<script type="text/javascript" src="/media/js/driver.js"></script>
{% endblock  %}


{% block content %}
<div  class="main-form">
    {% if not display_list %}
    <h1><img class="icon" src="/media/img/users.png">Lista de Motoristas </h1><hr/>
    <h2></h2>
    <em>Este veículo não possui nenhum motorista associado. <a href = "{% url drivers.views.create %}"> Clique aqui para criar um motorista para este veículo. </a></em>

    {% else %}
    <h1><img class="icon" src="/media/img/users.png">Lista de Motoristas </h1><hr/>
    <h2>Lista de Motoristas:</h2>
    <div class="ui-jqgrid ui-widget ui-widget-content ui-corner-all" id="gbox_list4" dir="ltr"><div id="load_list4" class="loading ui-state-default ui-state-active" style="display: none;">Loading...</div><div class="ui-jqgrid-view" id="gview_list4"><div class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"><a href="javascript:void(0)" role="link" class="ui-jqgrid-titlebar-close HeaderButton" style="right: 0px;"></a><p class="ui-jqgrid-title">&nbsp</p></div><div class="ui-state-default ui-jqgrid-hdiv"><div class="ui-jqgrid-hbox"><table cellspacing="0" cellpadding="0" border="0" aria-labelledby="gbox_list4" role="grid"  class="ui-jqgrid-htable">
				  
				  <thead>
				    
				    <tr role="rowheader" class="ui-jqgrid-labels">
				      <th class="ui-state-default ui-th-column ui-th-ltr" role="columnheader" id="list4_id" style="width: 381px;text-align:center;"><div id="jqgh_id" class="ui-jqgrid-sortable">Motorista</div></th>
				      <th class="ui-state-default ui-th-column ui-th-ltr" role="columnheader" id="list4_invdate" style="width: 150px;text-align:center;"><div id="jqgh_invdate" class="ui-jqgrid-sortable">Matrícula</div></th>
				      <th class="ui-state-default ui-th-column ui-th-ltr" role="columnheader" id="list4_invdate" style="width: 340px;text-align:center;"><div id="jqgh_invdate" class="ui-jqgrid-sortable">Telefone</div></th>				      
				      </tr></thead></table></div></div><div class="ui-jqgrid-bdiv"><div style="margin-left:0px;"><div></div><table id="tree" cellspacing="0" cellpadding="0" border="0" id="list4" tabindex="1" role="grid" aria-multiselectable="true" aria-labelledby="gbox_list4" class="ui-jqgrid-btable" style="width:100%"><tbody>
				      
				      
				  <tr style="height: auto; width:100%" role="row" class="jqgfirstrow">
				  
				  <td style="height: 0px; width: 20px;" role="gridcell"></td>
				  
				  <td style="height: 0px; width:20px" role="gridcell"></td>
				  
				  
				  </tr>
				  
				  
				  <tr class="ui-widget-content jqgrow ui-row-ltr" tabindex="-1" role="row" id="1">
            {% for item in display_list %}
            <tr style='width:5%;'>
                <td style='width:381px;font-weight:bold;text-align:left;padding-left:10px;'><a href="#" class="driver" value="{{item.id}}">{{item.name}}</a></td>
                <td style='width:150px;text-align:left;padding-left:10px;'>{{item.identification}}</td>
                <td style='width:340px;' style='text-align:center;'>{{item.telephone1}}</td>
                <div style="display:none" id="driverprofile-{{item.id}}" title="Profile do motorista" style="padding:10px; font-size:20px">
                    <p style="float:right;"><img src="/media/{{driver.photo}}" style="max-width:100px;max-height:150px; border: 1px solid #aaa;padding:5px;" /></p>
                    <p style="font-size:14px;"><span style="font-weight:bolder">Nome:</span> {{item.name}}</p>
                            <p style="font-size:14px;"><span style="font-weight:bold">Matrícula:</span> {{item.identification}}</p>
                            
                            
                            <p style="font-size:14px;"><span style="font-weight:bold;">Telefone 1:</span> {{item.telephone1}}</p>
                            <p style="font-size:14px;"><span style="font-weight:bold">Telefone 2:</span> {{item.telephone2}}</p>
                            <p style="font-size:14px;"><span style="font-weight:bold">Veículo(s):</span> {{item.vehicle}}</p>
                            <p style="height:50px;font-size:14px;"><span style="font-weight:bold;">Endereço:</span> {{item.address}}</p>
                            <div id="actions" style="top:170px;left:120px;position:absolute;">
                                <a href="{% url drivers.views.edit item.id %}" id="table-button" >Editar</a>
                                <a href="{% url drivers.views.delete item.id%}" id="table-button">Apagar</a>
                            </div>
                </div>
            </tr>
            {% endfor %}

  					

				  </tr></tbody></table></div></div></div><div id="rs_mlist4" class="ui-jqgrid-resize-mark">&nbsp;</div></div>
    
            <div id="actions" style="margin:10px;text-align:center;">
                <a href="{% url drivers.views.create %}"> Adicionar novo motorista </a>
            </div>

    {% endif %}
</div>
{% endblock %}
